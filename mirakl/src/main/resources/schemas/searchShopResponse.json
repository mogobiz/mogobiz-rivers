{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "Mirakl Shop",
  "type": "object",
  "properties": {
    "shops": { "type": "array", "items": {"type": "object", "$ref": "#/definitions/shop"} },
    "total_count": {"type": "integer"}
  },
  "required": [],
  "definitions": {
    "shop": {
      "properties": {
        "approval_delay": { "type": "integer" },
        "approval_rate": { "type": "integer" },
        "banner": { "type": "string", "format": "uri" },
        "billing_info": {"type": "object", "$ref": "#/definitions/billingInfo"},
        "channels": { "type": "array", "items": {"type": "string"}, "uniqueItems": true },
        "closed_from": {"type": "string", "format": "date-time"},
        "closed_to": {"type": "string", "format": "date-time"},
        "contact_informations": {"type": "object", "$ref": "#/definitions/contactInformations"},
        "currency_iso_code": {"type": "string", "format": "^[A-Z]{3}$"},
        "date_created": {"type": "string", "format": "date-time"},
        "description": {"type": "string"},
        "evaluations_count": {"type": "integer"},
        "free_shipping": {"type": "boolean"},
        "grade": {"type": "number"},
        "immunity_date": {"type": "string", "format": "date-time"},
        "is_professional": {"type": "boolean"},
        "last_updated_date": {"type": "string", "format": "date-time"},
        "logo": {"type": "string"},
        "offers_count": {"type": "integer"},
        "operator_internal_id": {"type": "string"},
        "order_messages_response_delay": {"type": "integer"},
        "orders_count": {"type": "integer"},
        "payment_details": {"type": "object", "$ref": "#/definitions/paymentDetails"},
        "payment_info": {"type": "object", "$ref": "#/definitions/paymentInfo"},
        "premium": {"type": "boolean"},
        "premium_state": {"enum": ["DEFAULT", "PREMIUM", "NOT_PREMIUM"]},
        "pro_details": {"type": "object", "$ref": "#/definitions/proDetails"},
        "return_policy": {"type": "string"},
        "shippings": {"type": "array", "items": {"type": "object", "$ref": "#/definitions/shipping"}},
        "shipping_types": { "type": "array", "items": {"type": "string"}},
        "shipping_zones": { "type": "array", "items": {"type": "string"}},
        "shipping_country": {"type": "string"},
        "shop_additional_fields": {"type": "array", "items": {"type": "object", "$ref": "#/definitions/shopAdditionalField"}},
        "shop_id": {"type": "integer"},
        "shop_name": {"type": "string"},
        "shop_state": {"enum": ["OPEN", "CLOSE", "SUSPENDED"]}
      }
    },
    "billingInfo": {
      "properties": {
        "bank_city": {"type": "string"}
      }
    },
    "contactInformations": {
      "properties":{
        "city": {"type": "string"},
        "civility": {"type": "string"},
        "country": {"type": "string"},
        "email": {"type": "string", "format": "email"},
        "fax": {"type": "string"},
        "firstname": {"type": "string"},
        "lastname": {"type": "string"},
        "phone": {"type": "string"},
        "phone_secondary": {"type": "string"},
        "state": {"type": "string"},
        "street1": {"type": "string"},
        "street2": {"type": "string"},
        "web_site": {"type": "string", "format": "uri"},
        "zip_code": {"type": "string"}
      }
    },
    "paymentDetails":{
      "properties":{
        "paid_balance": {"type": "number"},
        "pay_subscription": {"type": "boolean"},
        "payable_balance": {"type": "number"},
        "payment_blocked": {"type": "boolean"},
        "pending_balance": {"type": "number"},
        "subscription_free_from": {"type": "string", "format": "date-time"},
        "subscription_free_to": {"type": "string", "format": "date-time"}
      }
    },
    "paymentInfo":{
      "properties":{
        "owner": {"type": "string"}
      }
    },
    "proDetails":{
      "properties":{
        "corporate_name": {"type": "string"},
        "identification_number": {"type": "string"},
        "tax_identification_number": {"type": "string"},
        "VAT_number": {"type": "string"}
      }
    },
    "shipping": {
      "properties":{
        "shipping_free_amount": {"type": "number"},
        "shipping_type_code": {"type": "string"},
        "shipping_type_label": {"type": "string"},
        "shipping_zone_code": {"type": "string"},
        "shipping_zone_label": {"type": "string"}
      },
      "required": ["shipping_type_code", "shipping_type_label", "shipping_zone_code", "shipping_zone_label"]
    },
    "shopAdditionalField": {
      "properties":{
        "code": {"type": "string"},
        "value": {"type": "string"}
      },
      "required": ["code", "value"]
    }
  }
}
